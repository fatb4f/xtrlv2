{
  "artifact_kind": "guardrails_bundle",
  "bundle_id": "default",
  "version": "0.1",
  "meta": {
    "policy_linkage": {
      "reason_codes_ref": {
        "path": "control/ssot/reason_codes.json",
        "version": "0.1"
      }
    },
    "requirements": {
      "required_evidence": [],
      "unknowns_policy": {
        "on_unknown_state": "DENY",
        "on_unknown_transition": "DENY",
        "reason_code": "AMBIGUOUS_STATE_DENIED",
        "emit_unknowns_field": "unknowns",
        "max_unknowns": 0
      }
    },
    "guards": {
      "spec": [],
      "eval": []
    }
  },
  "guards": [
    {
      "guard_id": "repo.clean",
      "applies_to": {
        "artifact_kinds": [
          "state_space",
          "gate_decision"
        ],
        "transition": {
          "from": "T.RUN",
          "to": "GATE.checks_done"
        },
        "known_states": [
          "T.RUN",
          "GATE.checks_done"
        ],
        "transitions": [
          "T.RUN->GATE.checks_done"
        ]
      },
      "deny_decision": "DENY",
      "reason_code": "DIRTY_REPO_DENIED",
      "required_evidence": [
        "evidence_capsule"
      ],
      "predicate_ref": "git_status_clean",
      "feedback": {
        "severity": "error",
        "operator_message": "Repository has uncommitted changes; transition denied.",
        "actionable_hint": "Commit or stash local changes, then rerun checks.",
        "next_step": "hold",
        "confidence": 0.99,
        "unknowns": []
      }
    }
  ]
}
